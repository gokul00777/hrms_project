{% extends 'hr_management/manager_template/base_template.html' %}
{% load static %}
{% block title %} Profile{% endblock title %}
{% block main_content %}

<style>
    .form-row{
        padding-left:10px;
    }

</style>

<div class="container-fluid" style="width:900px;">
    <div class="container-fluid px-1 py-3 mx-auto">
        <div class="row d-flex justify-content-center">
            <div class="col-sm-12">
                <div class="card ">
                    <div class="text-center mb-4 text-info mb-2">
                        <div class="text-center mb-4 text-info mb-2">

                            <div class="card card-primary">
                                <div class="card-header">
                                    <h3 class="card-title; text-center">Employee Personal Details</h3>
                                </div>
                            </div>
                            {% if messages %}
                            {% for message in messages %}
                            <div class="alert alert-{{message.tags}}">
                                {% if message.tags %} {% endif %}{{ message }}
                            </div>
                            {% endfor %}
                            {% endif %}
                        </div>

                    </div>
                
                    <form method="POST" action="" enctype="multipart/form-data" class="container">
                        {% csrf_token %}
                        <div class="container justify-content-center">
                            <div class="form-row ">
                                <div class="form-group col-md-6">
                                    <label>Empolyee ID</label>
                                    <input type="text" class="form-control" name="id" value="{{ request.user.id}}"
                                        disabled="disabled">
                                </div>
                                <div class="form-group col-md-6">
                                    <label>Username</label>
                                    <input type="text" class="form-control" name="username" value="{{ user.username }}"
                                        disabled="disabled">
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    <label>First Name</label>
                                    <input type="text" class="form-control" name="first_name" value="{{ user.first_name }}">
                                </div>
                                <div class="form-group col-md-6">
                                    <label>Last Name</label>
                                    <input type="text" class="form-control" name="last_name" value="{{ user.last_name }}">
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    <label>Email</label>
                                    <input type="text" class="form-control" name="email" value="{{ user.email }}"
                                        disabled="disabled">
                                </div>
                                <div class="form-group col-md-6">
                                    {{ emp_onboarding_form.pf_uan_no.label_tag }} {{ emp_onboarding_form.pf_uan_no }}
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    {{ emp_onboarding_form.contact_no.label_tag }} {{ emp_onboarding_form.contact_no }}
                                </div>
                                <div class="form-group col-md-6">
                                    {{ emp_onboarding_form.emergency_contact_no.label_tag }} {{ emp_onboarding_form.emergency_contact_no }}
                                    
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    {{ emp_onboarding_form.pancard_no.label_tag }} {{ emp_onboarding_form.pancard_no }}
                                </div>
                                <div class="form-group col-md-6">
                                    {{ emp_onboarding_form.adhaar_no.label_tag }} {{ emp_onboarding_form.adhaar_no }}
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    {{ emp_onboarding_form.blood_group.label_tag }} {{ emp_onboarding_form.blood_group }}
                                </div>
                                <div class="form-group col-md-6">
                                    {{ emp_onboarding_form.dob.label_tag }} {{ emp_onboarding_form.dob }}
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    {{ emp_onboarding_form.gender.label_tag }} {{ emp_onboarding_form.gender }}
                                </div>
                                <div class="form-group col-md-6">
                                    {{ emp_onboarding_form.marital_status.label_tag }} {{ emp_onboarding_form.marital_status }}
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    {{ emp_onboarding_form.highest_qualification.label_tag }} {{emp_onboarding_form.highest_qualification }}  
                                </div>
                                <div class="form-group col-md-6">
                                    {{ emp_onboarding_form.previous_company_name.label_tag }} {{ emp_onboarding_form.previous_company_name }}
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    {{ emp_onboarding_form.date_of_joining.label_tag }}<b>(Current Company)</b> {{ emp_onboarding_form.date_of_joining }} 
                                </div>
                            </div>

                            <div class="card card-primary">
                                <div class="card-header">
                                    <h3 class="card-title; text-center">Employee Current Address</h3>
                                </div>
                            </div>
                            <div>
                                <div class="form-row current-address">
                                    <div class="form-group col-md-6">
                                        {{ emp_address_form.add_type.label_tag }} {{ emp_address_form.add_type }}
                                    </div>
                                    <div class="form-group col-md-6">
                                        {{ emp_address_form.address1.label_tag }} {{ emp_address_form.address1 }}
                                    </div>
                                </div>
                                <div class="form-row current-address">
                                    <div class="form-group col-md-6">
                                        {{ emp_address_form.address2.label_tag }} {{ emp_address_form.address2 }}
                                    </div>
                                    <div class="form-group col-md-6">
                                        {{ emp_address_form.zip_code.label_tag }} {{ emp_address_form.zip_code }}
                                    </div>
                                </div>
                                <div class="form-row current-address">
                                    <div class="form-group col-md-6">
                                        {{ emp_address_form.city.label_tag }} {{ emp_address_form.city }}
                                    </div>
                                    <div class="form-group col-md-6">
                                        {{ emp_address_form.dist.label_tag }} {{ emp_address_form.dist }}
                                    </div>
                                </div>
                                <div class="form-row current-address">
                                    <div class="form-group col-md-6">
                                        {{ emp_address_form.state.label_tag }} {{ emp_address_form.state }}
                                    </div>
                                    <div class="form-group col-md-6">
                                        {{ emp_address_form.country.label_tag }} {{ emp_address_form.country }}
                                    </div>
                                </div>
                                <div class="form-group">
                                    <input type="checkbox" id="same-address-checkbox" onclick="copyAddress()">
                                    <label for="same_address_checkbox">Same as current address</label>
                                </div>
                            </div>


                            <div class="card card-primary">
                                <div class="card-header">
                                    <h3 class="card-title; text-center">Employee Permanent Address</h3>
                                </div>
                            </div>
                            <div class="form-row permanent-address">
                                <div class="form-group col-md-6">
                                    {{ emp_perment_address_form.per_add_type.label_tag }} {{ emp_perment_address_form.per_add_type}}
                                    
                                </div>
                                <div class="form-group col-md-6">
                                    {{ emp_perment_address_form.per_address1.label_tag }} {{ emp_perment_address_form.per_address1 }}
                                    
                                </div>
                            </div>
                            <div class="form-row permanent-address">
                                <div class="form-group col-md-6">
                                    {{ emp_perment_address_form.per_address2.label_tag }} {{ emp_perment_address_form.per_address2}}
                                    
                                </div>
                                <div class="form-group col-md-6">
                                    {{ emp_perment_address_form.per_zip_code.label_tag }} {{ emp_perment_address_form.per_zip_code}}
                                    
                                </div>
                            </div>
                            <div class="form-row permanent-address">
                                <div class="form-group col-md-6">
                                    {{ emp_perment_address_form.per_city.label_tag }} {{ emp_perment_address_form.per_city }}
                                    
                                </div>
                                <div class="form-group col-md-6">
                                    {{ emp_perment_address_form.per_dist.label_tag }} {{ emp_perment_address_form.per_dist }}
                                </div>
                            </div>

                            <div class="form-row permanent-address">
                                <div class="form-group col-md-6">
                                    {{ emp_perment_address_form.per_state.label_tag }} {{ emp_perment_address_form.per_state }}
                                </div>
                                <div class="form-group col-md-6">
                                    {{ emp_perment_address_form.per_country.label_tag }} {{ emp_perment_address_form.per_country }}
                                </div>
                            </div>
                        
                            <div class="card card-primary">
                                <div class="card-header">
                                    <h3 class="card-title; text-center">Employee Family Details</h3>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    {{ emp_family_form.member1_name.label_tag }} {{ emp_family_form.member1_name }}
                                </div>
                                <div class="form-group col-md-6">
                                    {{ emp_family_form.merber1_dob.label_tag }} {{ emp_family_form.merber1_dob }}
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    {{ emp_family_form.merber1_aadhar_no.label_tag }} {{ emp_family_form.merber1_aadhar_no }}
                                    
                                </div>
                                <div class="form-group col-md-6">
                                    {{ emp_family_form.relationship1.label_tag }} {{ emp_family_form.relationship1 }}
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    {{ emp_family_form.member2_name.label_tag }} {{ emp_family_form.member2_name }}
                                </div>
                                <div class="form-group col-md-6">
                                    {{ emp_family_form.merber2_dob.label_tag }} {{ emp_family_form.merber2_dob }}
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    {{ emp_family_form.merber2_aadhar_no.label_tag }} {{ emp_family_form.merber2_aadhar_no}}
                                </div>
                                <div class="form-group col-md-6">
                                    {{ emp_family_form.relationship2.label_tag }} {{ emp_family_form.relationship2 }}
                                </div>
                            </div>
                            <div class="form-row family-member-row">
                                <div class="form-group col-md-6">
                                    {{ emp_family_form.member3_name.label_tag }} {{ emp_family_form.member3_name }}
                                </div>
                                <div class="form-group col-md-6">
                                    {{ emp_family_form.merber3_dob.label_tag }} {{ emp_family_form.merber3_dob }}
                                </div>
                            </div>
                            
                            <div class="form-row family-member-row">
                                <div class="form-group col-md-6">
                                    {{ emp_family_form.merber3_aadhar_no.label_tag }} {{ emp_family_form.merber3_aadhar_no}}
                                </div>
                                <div class="form-group col-md-6">
                                    {{ emp_family_form.relationship3.label_tag }} {{ emp_family_form.relationship3 }}
                                </div>
                            </div>
                            <div>
                                <button id="add-family-member" class="btn btn-primary" type="button">
                                    <i class="fas fa-plus"></i> Add Family Member
                                </button>
                            </div>
                            <br>
                            <div class="card card-primary">
                                <div class="card-header">
                                    <h3 class="card-title; text-center">Employee Bank Details</h3>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    {{ emp_bank_form.bank_name.label_tag }} {{ emp_bank_form.bank_name }}
                                </div>
                                <div class="form-group col-md-6">
                                    {{ emp_bank_form.branch.label_tag }} {{ emp_bank_form.branch }}
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    {{ emp_bank_form.account_number.label_tag }} {{ emp_bank_form.account_number }}
                                </div>
                                <div class="form-group col-md-6">
                                    {{ emp_bank_form.ifsc_number.label_tag }} {{ emp_bank_form.ifsc_number }}
                                </div>
                            </div>

                            <div class="card card-primary">
                                <div class="card-header">
                                    <h3 class="card-title; text-center">Employee document Details</h3>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    {{ emp_document_form.employee_photo.label_tag }} {{ emp_document_form.employee_photo }}
                                </div>
                                <div class="form-group col-md-6">
                                    {{ emp_document_form.employee_aadhar.label_tag }} {{ emp_document_form.employee_aadhar }}
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    {{ emp_document_form.employee_pan.label_tag }} {{ emp_document_form.employee_pan }}
                                </div>
                                <div class="form-group col-md-6">
                                    {{ emp_document_form.ssc_marksheet.label_tag }} {{ emp_document_form.ssc_marksheet }}
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    {{ emp_document_form.hsc_marksheet.label_tag }} {{ emp_document_form.hsc_marksheet }}
                                </div>
                                <div class="form-group col-md-6">
                                    {{ emp_document_form.diploma_marksheet.label_tag }} {{emp_document_form.diploma_marksheet }}
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    {{ emp_document_form.degree_marksheet.label_tag }} {{ emp_document_form.degree_marksheet }}
                                </div>
                                <div class="form-group col-md-6">
                                    {{ emp_document_form.bank_passbook.label_tag }} {{ emp_document_form.bank_passbook }}
                                </div>
                            </div>
                            <div class="form-row document-row">
                                <div class="form-group col-md-6">
                                    {{ emp_document_form.passport.label_tag }} {{ emp_document_form.passport }}
                                </div>
                                <div class="form-group col-md-6">
                                    {{ emp_document_form.reliving_letter.label_tag }} {{ emp_document_form.reliving_letter}}
                                </div>
                            </div>
                            <div class="form-row document-row">
                                <div class="form-group col-md-6">
                                    {{ emp_document_form.family_member1_aadhar.label_tag }} {{emp_document_form.family_member1_aadhar }}
                                    
                                </div>
                                <div class="form-group col-md-6">
                                    {{ emp_document_form.family_member2_aadhar.label_tag }} {{ emp_document_form.family_member2_aadhar }}
                                    
                                </div>
                            </div>
                            <div class="form-row document-row">
                                <div class="form-group col-md-6">
                                    {{ emp_document_form.family_member3_aadhar.label_tag }}{{emp_document_form.family_member3_aadhar }}
                                </div>
                            </div>

                        <div class="text-center">
                            <button id="add-document" class="btn btn-primary" type="button">
                                <i class="fas fa-plus"></i> Add Document
                            </button>
                        </div>
                        <div class="container">
                            <button type="submit" class="btn btn-info rounded-pill m-l-2 ">Submit</button>
                            <button type="submit" class="btn btn-danger rounded-pill m-2">Cancel</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% block custom_js %}
<script>
    $(document).ready(function () {
        // define the maximum number of family members
        const MAX_FAMILY_MEMBERS = 5;

        // add event listener to the "Add Family Member" button
        $('#add-family-member').click(function () {
            // get the number of existing family members
            let numFamilyMembers = $('.family-member-row').length;

            // check if we reached the maximum number of family members
            if (numFamilyMembers >= MAX_FAMILY_MEMBERS) {
                alert('You cannot add more than ' + MAX_FAMILY_MEMBERS + ' family members.');
                return;
            }

            // create a new row with the form inputs
            let newRowHtml = '<div class="form-row family-member-row">';
            newRowHtml += '<div class="form-group col-md-6">';
            newRowHtml += '<label for="member' + (numFamilyMembers + 1) + '_name">Member ' + (numFamilyMembers + 1) + ' Name</label>';
            newRowHtml += '<input type="text" name="member' + (numFamilyMembers + 1) + '_name" class="form-control">';
            newRowHtml += '</div>';
            newRowHtml += '<div class="form-group col-md-6">';
            newRowHtml += '<label for="member' + (numFamilyMembers + 1) + '_dob">Member ' + (numFamilyMembers + 1) + ' DOB</label>';
            newRowHtml += '<input type="date" name="member' + (numFamilyMembers + 1) + '_dob" class="form-control">';
            newRowHtml += '</div>';
            newRowHtml += '</div>';
            newRowHtml += '<div class="form-row family-member-row">';
            newRowHtml += '<div class="form-group col-md-6">';
            newRowHtml += '<label for="member' + (numFamilyMembers + 1) + '_aadhar_no">Member ' + (numFamilyMembers + 1) + ' Aadhar Number</label>';
            newRowHtml += '<input type="text" name="member' + (numFamilyMembers + 1) + '_aadhar_no" class="form-control">';
            newRowHtml += '</div>';
            newRowHtml += '<div class="form-group col-md-6">';
            newRowHtml += '<label for="member' + (numFamilyMembers + 1) + '_relationship">Relationship with Member ' + (numFamilyMembers + 1) + '</label>';
            newRowHtml += '<input type="text" name="member' + (numFamilyMembers + 1) + '_relationship" class="form-control">';
            newRowHtml += '</div>';
            newRowHtml += '</div>';


            // append the new row to the form
            $('.family-member-row').last().after(newRowHtml);
        });
    });


        $(document).ready(function () {
            // define the maximum number of documents
            const MAX_DOCUMENTS = 5;

            // add event listener to the "Add Document" button
            $('#add-document').click(function () {
                // get the number of existing documents
                let numDocuments = $('.document-row').length;

                // check if we reached the maximum number of documents
                if (numDocuments >= MAX_DOCUMENTS) {
                    alert('You cannot add more than ' + MAX_DOCUMENTS + ' documents.');
                    return;
                }

                // create a new row with the form inputs
                let newRowHtml = '<div class="form-row document-row">';
                newRowHtml += '<div class="form-group col-md-6">';
                newRowHtml += '<label for="document_type_' + (numDocuments + 1) + '">Document ' + (numDocuments + 1) + ' Type</label>';
                newRowHtml += '<input type="file" name="document_type_' + (numDocuments + 1) + '" class="form-control">';
                newRowHtml += '</div>';
                newRowHtml += '</div>';

                // append the new row to the form
                $('.document-row').last().after(newRowHtml);
            });
        
    });
</script>


<!-- address same current and perment  -->
<script>
    // Get the checkbox element and the address input elements
    const sameAddressCheckbox = document.getElementById('same-address-checkbox');
    const currentAddressInputs = document.querySelectorAll('.current-address input');
    const permanentAddressInputs = document.querySelectorAll('.permanent-address input');

    // Function to copy the current address to the permanent address fields
    function copyAddress() {
        if (sameAddressCheckbox.checked) {
            for (let i = 0; i < currentAddressInputs.length; i++) {
                permanentAddressInputs[i].value = currentAddressInputs[i].value;
            }
        }
    }

    // Add an event listener to the checkbox to call the copyAddress function when it is clicked
    sameAddressCheckbox.addEventListener('click', copyAddress);
</script>

{% endblock custom_js %}



{% endblock main_content%}